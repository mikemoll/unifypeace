!function(e){var i="countdown",t=0,s=1,n=2,o=3,a=4,r=5,l=6;e.JQPlugin.createPlugin({name:i,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,padZeroes:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Mins","Seconds"],labels1:["Year","Month","Week","Day","Hour","Min","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}},_getters:["getTimes"],_rtlClass:i+"-rtl",_sectionClass:i+"-section",_amountClass:i+"-amount",_periodClass:i+"-period",_rowClass:i+"-row",_holdingClass:i+"-holding",_showClass:i+"-show",_descrClass:i+"-descr",_timerElems:[],_init:function(){function i(e){var r=1e12>e?n?performance.now()+performance.timing.navigationStart:s():e||s();r-a>=1e3&&(t._updateElems(),a=r),o(i)}var t=this;this._super(),this._serverSyncs=[];var s="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},n=window.performance&&"function"==typeof window.performance.now,o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,a=0;!o||e.noRequestAnimationFrame?(e.noRequestAnimationFrame=null,setInterval(function(){t._updateElems()},980)):(a=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||s(),o(i))},UTCDate:function(e,i,t,s,n,o,a,r){"object"==typeof i&&i.constructor==Date&&(r=i.getMilliseconds(),a=i.getSeconds(),o=i.getMinutes(),n=i.getHours(),s=i.getDate(),t=i.getMonth(),i=i.getFullYear());var l=new Date;return l.setUTCFullYear(i),l.setUTCDate(1),l.setUTCMonth(t||0),l.setUTCDate(s||1),l.setUTCHours(n||0),l.setUTCMinutes((o||0)-(Math.abs(e)<30?60*e:e)),l.setUTCSeconds(a||0),l.setUTCMilliseconds(r||0),l},periodsToSeconds:function(e){return 31557600*e[0]+2629800*e[1]+604800*e[2]+86400*e[3]+3600*e[4]+60*e[5]+e[6]},_instSettings:function(){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(e){this._hasElem(e)||this._timerElems.push(e)},_hasElem:function(i){return e.inArray(i,this._timerElems)>-1},_removeElem:function(i){this._timerElems=e.map(this._timerElems,function(e){return e==i?null:e})},_updateElems:function(){for(var e=this._timerElems.length-1;e>=0;e--)this._updateCountdown(this._timerElems[e])},_optionsChanged:function(i,t,s){s.layout&&(s.layout=s.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(t.options,s);var n=t.options.timezone!=s.timezone;e.extend(t.options,s),this._adjustSettings(i,t,null!=s.until||null!=s.since||n);var o=new Date;(t._since&&t._since<o||t._until&&t._until>o)&&this._addElem(i[0]),this._updateCountdown(i,t)},_updateCountdown:function(i,t){if(i=i.jquery?i:e(i),t=t||this._getInst(i)){if(i.html(this._generateHTML(t)).toggleClass(this._rtlClass,t.options.isRTL),e.isFunction(t.options.onTick)){var s="lap"!=t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);(1==t.options.tickInterval||this.periodsToSeconds(s)%t.options.tickInterval==0)&&t.options.onTick.apply(i[0],[s])}var n="pause"!=t._hold&&(t._since?t._now.getTime()<t._since.getTime():t._now.getTime()>=t._until.getTime());if(n&&!t._expiring){if(t._expiring=!0,this._hasElem(i[0])||t.options.alwaysExpire){if(this._removeElem(i[0]),e.isFunction(t.options.onExpiry)&&t.options.onExpiry.apply(i[0],[]),t.options.expiryText){var o=t.options.layout;t.options.layout=t.options.expiryText,this._updateCountdown(i[0],t),t.options.layout=o}t.options.expiryUrl&&(window.location=t.options.expiryUrl)}t._expiring=!1}else"pause"==t._hold&&this._removeElem(i[0])}},_resetExtraLabels:function(e,i){for(var t in i)t.match(/[Ll]abels[02-9]|compactLabels1/)&&(e[t]=i[t]);for(var t in e)t.match(/[Ll]abels[02-9]|compactLabels1/)&&"undefined"==typeof i[t]&&(e[t]=null)},_adjustSettings:function(i,t,s){for(var n,o=0,a=null,r=0;r<this._serverSyncs.length;r++)if(this._serverSyncs[r][0]==t.options.serverSync){a=this._serverSyncs[r][1];break}if(null!=a)o=t.options.serverSync?a:0,n=new Date;else{var l=e.isFunction(t.options.serverSync)?t.options.serverSync.apply(i[0],[]):null;n=new Date,o=l?n.getTime()-l.getTime():0,this._serverSyncs.push([t.options.serverSync,o])}var _=t.options.timezone;_=null==_?-n.getTimezoneOffset():_,(s||!s&&null==t._until&&null==t._since)&&(t._since=t.options.since,null!=t._since&&(t._since=this.UTCDate(_,this._determineTime(t._since,null)),t._since&&o&&t._since.setMilliseconds(t._since.getMilliseconds()+o)),t._until=this.UTCDate(_,this._determineTime(t.options.until,n)),o&&t._until.setMilliseconds(t._until.getMilliseconds()+o)),t._show=this._determineShow(t)},_preDestroy:function(e){this._removeElem(e[0]),e.empty()},pause:function(e){this._hold(e,"pause")},lap:function(e){this._hold(e,"lap")},resume:function(e){this._hold(e,null)},toggle:function(i){var t=e.data(i,this.name)||{};this[t._hold?"resume":"pause"](i)},toggleLap:function(i){var t=e.data(i,this.name)||{};this[t._hold?"resume":"lap"](i)},_hold:function(i,t){var s=e.data(i,this.name);if(s){if("pause"==s._hold&&!t){s._periods=s._savePeriods;var n=s._since?"-":"+";s[s._since?"_since":"_until"]=this._determineTime(n+s._periods[0]+"y"+n+s._periods[1]+"o"+n+s._periods[2]+"w"+n+s._periods[3]+"d"+n+s._periods[4]+"h"+n+s._periods[5]+"m"+n+s._periods[6]+"s"),this._addElem(i)}s._hold=t,s._savePeriods="pause"==t?s._periods:null,e.data(i,this.name,s),this._updateCountdown(i,s)}},getTimes:function(i){var t=e.data(i,this.name);return t?"pause"==t._hold?t._savePeriods:t._hold?this._calculatePeriods(t,t._show,t.options.significant,new Date):t._periods:null},_determineTime:function(e,i){var t=this,s=function(e){var i=new Date;return i.setTime(i.getTime()+1e3*e),i},n=function(e){e=e.toLowerCase();for(var i=new Date,s=i.getFullYear(),n=i.getMonth(),o=i.getDate(),a=i.getHours(),r=i.getMinutes(),l=i.getSeconds(),_=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,p=_.exec(e);p;){switch(p[2]||"s"){case"s":l+=parseInt(p[1],10);break;case"m":r+=parseInt(p[1],10);break;case"h":a+=parseInt(p[1],10);break;case"d":o+=parseInt(p[1],10);break;case"w":o+=7*parseInt(p[1],10);break;case"o":n+=parseInt(p[1],10),o=Math.min(o,t._getDaysInMonth(s,n));break;case"y":s+=parseInt(p[1],10),o=Math.min(o,t._getDaysInMonth(s,n))}p=_.exec(e)}return new Date(s,n,o,a,r,l,0)},o=null==e?i:"string"==typeof e?n(e):"number"==typeof e?s(e):e;return o&&o.setMilliseconds(0),o},_getDaysInMonth:function(e,i){return 32-new Date(e,i,32).getDate()},_normalLabels:function(e){return e},_generateHTML:function(i){var _=this;i._periods=i._hold?i._periods:this._calculatePeriods(i,i._show,i.options.significant,new Date);for(var p=!1,d=0,c=i.options.significant,u=e.extend({},i._show),h=t;l>=h;h++)p|="?"==i._show[h]&&i._periods[h]>0,u[h]="?"!=i._show[h]||p?i._show[h]:null,d+=u[h]?1:0,c-=i._periods[h]>0?1:0;for(var m=[!1,!1,!1,!1,!1,!1,!1],h=l;h>=t;h--)i._show[h]&&(i._periods[h]?m[h]=!0:(m[h]=c>0,c--));var g=i.options.compact?i.options.compactLabels:i.options.labels,w=i.options.whichLabels||this._normalLabels,f=function(e){var t=i.options["compactLabels"+w(i._periods[e])];return u[e]?_._translateDigits(i,i._periods[e])+(t?t[e]:g[e])+" ":""},v=i.options.padZeroes?2:1,D=function(e){var t=i.options["labels"+w(i._periods[e])];return!i.options.significant&&u[e]||i.options.significant&&m[e]?'<div class="'+_._sectionClass+'"><div class="'+_._amountClass+'">'+_._minDigits(i,i._periods[e],v)+'</div><div class="'+_._periodClass+'">'+(t?t[e]:g[e])+"</div></div>":""};return i.options.layout?this._buildLayout(i,u,i.options.layout,i.options.compact,i.options.significant,m):(i.options.compact?'<div class="'+this._rowClass+" "+this._amountClass+(i._hold?" "+this._holdingClass:"")+'">'+f(t)+f(s)+f(n)+f(o)+(u[a]?this._minDigits(i,i._periods[a],2):"")+(u[r]?(u[a]?i.options.timeSeparator:"")+this._minDigits(i,i._periods[r],2):"")+(u[l]?(u[a]||u[r]?i.options.timeSeparator:"")+this._minDigits(i,i._periods[l],2):""):'<div class="'+this._rowClass+" "+this._showClass+(i.options.significant||d)+(i._hold?" "+this._holdingClass:"")+'">'+D(t)+D(s)+D(n)+D(o)+D(a)+D(r)+D(l))+"</div>"+(i.options.description?'<div class="'+this._rowClass+" "+this._descrClass+'">'+i.options.description+"</div>":"")},_buildLayout:function(i,_,p,d,c,u){for(var h=i.options[d?"compactLabels":"labels"],m=i.options.whichLabels||this._normalLabels,g=function(e){return(i.options[(d?"compactLabels":"labels")+m(i._periods[e])]||h)[e]},w=function(e,t){return i.options.digits[Math.floor(e/t)%10]},f={desc:i.options.description,sep:i.options.timeSeparator,yl:g(t),yn:this._minDigits(i,i._periods[t],1),ynn:this._minDigits(i,i._periods[t],2),ynnn:this._minDigits(i,i._periods[t],3),y1:w(i._periods[t],1),y10:w(i._periods[t],10),y100:w(i._periods[t],100),y1000:w(i._periods[t],1e3),ol:g(s),on:this._minDigits(i,i._periods[s],1),onn:this._minDigits(i,i._periods[s],2),onnn:this._minDigits(i,i._periods[s],3),o1:w(i._periods[s],1),o10:w(i._periods[s],10),o100:w(i._periods[s],100),o1000:w(i._periods[s],1e3),wl:g(n),wn:this._minDigits(i,i._periods[n],1),wnn:this._minDigits(i,i._periods[n],2),wnnn:this._minDigits(i,i._periods[n],3),w1:w(i._periods[n],1),w10:w(i._periods[n],10),w100:w(i._periods[n],100),w1000:w(i._periods[n],1e3),dl:g(o),dn:this._minDigits(i,i._periods[o],1),dnn:this._minDigits(i,i._periods[o],2),dnnn:this._minDigits(i,i._periods[o],3),d1:w(i._periods[o],1),d10:w(i._periods[o],10),d100:w(i._periods[o],100),d1000:w(i._periods[o],1e3),hl:g(a),hn:this._minDigits(i,i._periods[a],1),hnn:this._minDigits(i,i._periods[a],2),hnnn:this._minDigits(i,i._periods[a],3),h1:w(i._periods[a],1),h10:w(i._periods[a],10),h100:w(i._periods[a],100),h1000:w(i._periods[a],1e3),ml:g(r),mn:this._minDigits(i,i._periods[r],1),mnn:this._minDigits(i,i._periods[r],2),mnnn:this._minDigits(i,i._periods[r],3),m1:w(i._periods[r],1),m10:w(i._periods[r],10),m100:w(i._periods[r],100),m1000:w(i._periods[r],1e3),sl:g(l),sn:this._minDigits(i,i._periods[l],1),snn:this._minDigits(i,i._periods[l],2),snnn:this._minDigits(i,i._periods[l],3),s1:w(i._periods[l],1),s10:w(i._periods[l],10),s100:w(i._periods[l],100),s1000:w(i._periods[l],1e3)},v=p,D=t;l>=D;D++){var y="yowdhms".charAt(D),T=new RegExp("\\{"+y+"<\\}([\\s\\S]*)\\{"+y+">\\}","g");v=v.replace(T,!c&&_[D]||c&&u[D]?"$1":"")}return e.each(f,function(e,i){var t=new RegExp("\\{"+e+"\\}","g");v=v.replace(t,i)}),v},_minDigits:function(e,i,t){return i=""+i,i.length>=t?this._translateDigits(e,i):(i="0000000000"+i,this._translateDigits(e,i.substr(i.length-t)))},_translateDigits:function(e,i){return(""+i).replace(/[0-9]/g,function(i){return e.options.digits[i]})},_determineShow:function(e){var i=e.options.format,_=[];return _[t]=i.match("y")?"?":i.match("Y")?"!":null,_[s]=i.match("o")?"?":i.match("O")?"!":null,_[n]=i.match("w")?"?":i.match("W")?"!":null,_[o]=i.match("d")?"?":i.match("D")?"!":null,_[a]=i.match("h")?"?":i.match("H")?"!":null,_[r]=i.match("m")?"?":i.match("M")?"!":null,_[l]=i.match("s")?"?":i.match("S")?"!":null,_},_calculatePeriods:function(e,i,_,p){e._now=p,e._now.setMilliseconds(0);var d=new Date(e._now.getTime());e._since?p.getTime()<e._since.getTime()?e._now=p=d:p=e._since:(d.setTime(e._until.getTime()),p.getTime()>e._until.getTime()&&(e._now=p=d));var c=[0,0,0,0,0,0,0];if(i[t]||i[s]){var u=this._getDaysInMonth(p.getFullYear(),p.getMonth()),h=this._getDaysInMonth(d.getFullYear(),d.getMonth()),m=d.getDate()==p.getDate()||d.getDate()>=Math.min(u,h)&&p.getDate()>=Math.min(u,h),g=function(e){return 60*(60*e.getHours()+e.getMinutes())+e.getSeconds()},w=Math.max(0,12*(d.getFullYear()-p.getFullYear())+d.getMonth()-p.getMonth()+(d.getDate()<p.getDate()&&!m||m&&g(d)<g(p)?-1:0));c[t]=i[t]?Math.floor(w/12):0,c[s]=i[s]?w-12*c[t]:0,p=new Date(p.getTime());var f=p.getDate()==u,v=this._getDaysInMonth(p.getFullYear()+c[t],p.getMonth()+c[s]);p.getDate()>v&&p.setDate(v),p.setFullYear(p.getFullYear()+c[t]),p.setMonth(p.getMonth()+c[s]),f&&p.setDate(v)}var D=Math.floor((d.getTime()-p.getTime())/1e3),y=function(e,t){c[e]=i[e]?Math.floor(D/t):0,D-=c[e]*t};if(y(n,604800),y(o,86400),y(a,3600),y(r,60),y(l,1),D>0&&!e._since)for(var T=[1,12,4.3482,7,24,60,60],M=l,C=1,b=l;b>=t;b--)i[b]&&(c[M]>=C&&(c[M]=0,D=1),D>0&&(c[b]++,D=0,M=b,C=1)),C*=T[b];if(_)for(var b=t;l>=b;b++)_&&c[b]?_--:_||(c[b]=0);return c}})}(jQuery);